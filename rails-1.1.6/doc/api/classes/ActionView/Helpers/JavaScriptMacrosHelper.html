<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Module: ActionView::Helpers::JavaScriptMacrosHelper</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "width=400,height=400,scrollbars=yes" )
        }
      // ]]>
    </script>
  </head>

  <body>
  <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'><tr>
  <td class="file-title"><span class="file-title-prefix">Module</span><br />ActionView::Helpers::JavaScriptMacrosHelper</td>
  <td align="right">
    <table cellspacing=0 cellpadding=2>
      <tr valign="top">
        <td>In:</td>
        <td>
<a href="../../../files/vendor/rails/actionpack/lib/action_view/helpers/java_script_macros_helper_rb.html">vendor/rails/actionpack/lib/action_view/helpers/java_script_macros_helper.rb</a>
        </td>
      </tr>
         </table>
        </td>
        </tr>
      </table>
 <!-- banner header -->

  <div id="bodyContent">
      <div id="content">

  <div class="description"><p>
Provides a set of helpers for creating JavaScript macros that rely on and
often bundle methods from <a
href="JavaScriptHelper.html">JavaScriptHelper</a> into larger units. These
macros also rely on counterparts in the controller that provide them with
their backing. The in-place editing relies on
ActionController::Base.in_place_edit_for and the autocompletion relies on
ActionController::Base.auto_complete_for.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="#M000463">auto_complete_field</a></li>
  <li><a href="#M000464">auto_complete_result</a></li>
  <li><a href="#M000461">in_place_editor</a></li>
  <li><a href="#M000462">in_place_editor_field</a></li>
  <li><a href="#M000465">text_field_with_auto_complete</a></li>
  </ul>






<div class="sectiontitle">Public Instance methods</div>
<div class="method">
  <div class="title">
    <a name="M000463"></a><b>auto_complete_field</b>(field_id, options = {})
  </div>
  <div class="description">
  <p>
Adds AJAX autocomplete functionality to the text input field with the DOM
ID specified by <tt>field_id</tt>.
</p>
<p>
This function expects that the called action returns a HTML &lt;ul&gt;
list, or nothing if no entries should be displayed for autocompletion.
</p>
<p>
You&#8216;ll probably want to turn the browser&#8217;s built-in
autocompletion off, so be sure to include a autocomplete=&quot;off&quot;
attribute with your text input field.
</p>
<p>
The autocompleter object is assigned to a Javascript variable named
<tt>field_id</tt>_auto_completer. This object is useful if you for example
want to trigger the auto-complete suggestions through other means than user
input (for that specific case, call the <tt>activate</tt> method on that
object).
</p>
<p>
Required <tt>options</tt> are:
</p>
<table>
<tr><td valign="top"><tt>:url</tt>:</td><td>URL to call for autocompletion results in url_for format.

</td></tr>
</table>
<p>
Addtional <tt>options</tt> are:
</p>
<table>
<tr><td valign="top"><tt>:update</tt>:</td><td>Specifies the DOM ID of the element whose innerHTML should be updated with
the autocomplete entries returned by the AJAX request. Defaults to field_id
+ &#8216;_auto_complete&#8216;

</td></tr>
<tr><td valign="top"><tt>:with</tt>:</td><td>A JavaScript expression specifying the parameters for the XMLHttpRequest.
This defaults to &#8216;fieldname=value&#8217;.

</td></tr>
<tr><td valign="top"><tt>:frequency</tt>:</td><td>Determines the time to wait after the last keystroke for the AJAX request
to be initiated.

</td></tr>
<tr><td valign="top"><tt>:indicator</tt>:</td><td>Specifies the DOM ID of an element which will be displayed while
autocomplete is running.

</td></tr>
<tr><td valign="top"><tt>:tokens</tt>:</td><td>A string or an array of strings containing separator tokens for tokenized
incremental autocompletion. Example: <tt>:tokens =&gt; &#8217;,&#8217;</tt>
would allow multiple autocompletion entries, separated by commas.

</td></tr>
<tr><td valign="top"><tt>:min_chars</tt>:</td><td>The minimum number of characters that should be in the input field before
an Ajax call is made to the server.

</td></tr>
<tr><td valign="top"><tt>:on_hide</tt>:</td><td>A Javascript expression that is called when the autocompletion div is
hidden. The expression should take two variables: element and update.
Element is a DOM element for the field, update is a DOM element for the div
from which the innerHTML is replaced.

</td></tr>
<tr><td valign="top"><tt>:on_show</tt>:</td><td>Like on_hide, only now the expression is called then the div is shown.

</td></tr>
<tr><td valign="top"><tt>:after_update_element</tt>:</td><td>A Javascript expression that is called when the user has selected one of
the proposed values. The expression should take two variables: element and
value. Element is a DOM element for the field, value is the value selected
by the user.

</td></tr>
<tr><td valign="top"><tt>:select</tt>:</td><td>Pick the class of the element from which the value for insertion should be
extracted. If this is not specified, the entire element is used.

</td></tr>
</table>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000463_source')" id="l_M000463_source">show source</a> ]</p>
  <div id="M000463_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/java_script_macros_helper.rb, line 133</span>
133:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">auto_complete_field</span>(<span class="ruby-identifier">field_id</span>, <span class="ruby-identifier">options</span> = {})
134:         <span class="ruby-identifier">function</span> =  <span class="ruby-node">&quot;var #{field_id}_auto_completer = new Ajax.Autocompleter(&quot;</span>
135:         <span class="ruby-identifier">function</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;'#{field_id}', &quot;</span>
136:         <span class="ruby-identifier">function</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;'&quot;</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:update</span>] <span class="ruby-operator">||</span> <span class="ruby-node">&quot;#{field_id}_auto_complete&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;', &quot;</span>
137:         <span class="ruby-identifier">function</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;'#{url_for(options[:url])}'&quot;</span>
138:         
139:         <span class="ruby-identifier">js_options</span> = {}
140:         <span class="ruby-identifier">js_options</span>[<span class="ruby-identifier">:tokens</span>] = <span class="ruby-identifier">array_or_string_for_javascript</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:tokens</span>]) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:tokens</span>]
141:         <span class="ruby-identifier">js_options</span>[<span class="ruby-identifier">:callback</span>]   = <span class="ruby-node">&quot;function(element, value) { return #{options[:with]} }&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:with</span>]
142:         <span class="ruby-identifier">js_options</span>[<span class="ruby-identifier">:indicator</span>]  = <span class="ruby-node">&quot;'#{options[:indicator]}'&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:indicator</span>]
143:         <span class="ruby-identifier">js_options</span>[<span class="ruby-identifier">:select</span>]     = <span class="ruby-node">&quot;'#{options[:select]}'&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:select</span>]
144:         <span class="ruby-identifier">js_options</span>[<span class="ruby-identifier">:frequency</span>]  = <span class="ruby-node">&quot;#{options[:frequency]}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:frequency</span>]
145: 
146:         { <span class="ruby-identifier">:after_update_element</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:afterUpdateElement</span>, 
147:           <span class="ruby-identifier">:on_show</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:onShow</span>, <span class="ruby-identifier">:on_hide</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:onHide</span>, <span class="ruby-identifier">:min_chars</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">:minChars</span> }.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
148:           <span class="ruby-identifier">js_options</span>[<span class="ruby-identifier">v</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">k</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">k</span>]
149:         <span class="ruby-keyword kw">end</span>
150: 
151:         <span class="ruby-identifier">function</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-value str">', '</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">options_for_javascript</span>(<span class="ruby-identifier">js_options</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">')'</span>)
152: 
153:         <span class="ruby-identifier">javascript_tag</span>(<span class="ruby-identifier">function</span>)
154:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000464"></a><b>auto_complete_result</b>(entries, field, phrase = nil)
  </div>
  <div class="description">
  <p>
Use this method in your view to generate a return for the AJAX autocomplete
requests.
</p>
<p>
Example action:
</p>
<pre>
  def auto_complete_for_item_title
    @items = Item.find(:all,
      :conditions =&gt; [ 'LOWER(description) LIKE ?',
      '%' + request.raw_post.downcase + '%' ])
    render :inline =&gt; '&lt;%= auto_complete_result(@items, 'description') %&gt;'
  end
</pre>
<p>
The <a href="JavaScriptMacrosHelper.html#M000464">auto_complete_result</a>
can of course also be called from a view belonging to the auto_complete
action if you need to decorate it further.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000464_source')" id="l_M000464_source">show source</a> ]</p>
  <div id="M000464_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/java_script_macros_helper.rb, line 169</span>
169:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">auto_complete_result</span>(<span class="ruby-identifier">entries</span>, <span class="ruby-identifier">field</span>, <span class="ruby-identifier">phrase</span> = <span class="ruby-keyword kw">nil</span>)
170:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">entries</span>
171:         <span class="ruby-identifier">items</span> = <span class="ruby-identifier">entries</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">entry</span><span class="ruby-operator">|</span> <span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;li&quot;</span>, <span class="ruby-identifier">phrase</span> <span class="ruby-value">? </span><span class="ruby-identifier">highlight</span>(<span class="ruby-identifier">entry</span>[<span class="ruby-identifier">field</span>], <span class="ruby-identifier">phrase</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">h</span>(<span class="ruby-identifier">entry</span>[<span class="ruby-identifier">field</span>])) }
172:         <span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;ul&quot;</span>, <span class="ruby-identifier">items</span>.<span class="ruby-identifier">uniq</span>)
173:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000461"></a><b>in_place_editor</b>(field_id, options = {})
  </div>
  <div class="description">
  <p>
Makes an HTML element specified by the DOM ID <tt>field_id</tt> become an
in-place editor of a property.
</p>
<p>
A form is automatically created and displayed when the user clicks the
element, something like this:
</p>
<pre>
  &lt;form id=&quot;myElement-in-place-edit-form&quot; target=&quot;specified url&quot;&gt;
    &lt;input name=&quot;value&quot; text=&quot;The content of myElement&quot;/&gt;
    &lt;input type=&quot;submit&quot; value=&quot;ok&quot;/&gt;
    &lt;a onclick=&quot;javascript to cancel the editing&quot;&gt;cancel&lt;/a&gt;
  &lt;/form&gt;
</pre>
<p>
The form is serialized and sent to the server using an AJAX call, the
action on the server should process the value and return the updated value
in the body of the reponse. The element will automatically be updated with
the changed value (as returned from the server).
</p>
<p>
Required <tt>options</tt> are:
</p>
<table>
<tr><td valign="top"><tt>:url</tt>:</td><td>Specifies the url where the updated value should be sent after the user
presses &quot;ok&quot;.

</td></tr>
</table>
<p>
Addtional <tt>options</tt> are:
</p>
<table>
<tr><td valign="top"><tt>:rows</tt>:</td><td>Number of rows (more than 1 will use a TEXTAREA)

</td></tr>
<tr><td valign="top"><tt>:cols</tt>:</td><td>Number of characters the text input should span (works for both INPUT and
TEXTAREA)

</td></tr>
<tr><td valign="top"><tt>:size</tt>:</td><td>Synonym for :cols when using a single line text input.

</td></tr>
<tr><td valign="top"><tt>:cancel_text</tt>:</td><td>The text on the cancel link. (default: &quot;cancel&quot;)

</td></tr>
<tr><td valign="top"><tt>:save_text</tt>:</td><td>The text on the save link. (default: &quot;ok&quot;)

</td></tr>
<tr><td valign="top"><tt>:loading_text</tt>:</td><td>The text to display when submitting to the server (default:
&quot;Saving&#8230;&quot;)

</td></tr>
<tr><td valign="top"><tt>:external_control</tt>:</td><td>The id of an external control used to enter edit mode.

</td></tr>
<tr><td valign="top"><tt>:load_text_url</tt>:</td><td>URL where initial value of editor (content) is retrieved.

</td></tr>
<tr><td valign="top"><tt>:options</tt>:</td><td>Pass through options to the AJAX call (see prototype&#8217;s Ajax.Updater)

</td></tr>
<tr><td valign="top"><tt>:with</tt>:</td><td>JavaScript snippet that should return what is to be sent in the AJAX call,
<tt>form</tt> is an implicit parameter

</td></tr>
<tr><td valign="top"><tt>:script</tt>:</td><td>Instructs the in-place editor to evaluate the remote JavaScript response
(default: false)

</td></tr>
</table>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000461_source')" id="l_M000461_source">show source</a> ]</p>
  <div id="M000461_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/java_script_macros_helper.rb, line 44</span>
44:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">in_place_editor</span>(<span class="ruby-identifier">field_id</span>, <span class="ruby-identifier">options</span> = {})
45:         <span class="ruby-identifier">function</span> =  <span class="ruby-value str">&quot;new Ajax.InPlaceEditor(&quot;</span>
46:         <span class="ruby-identifier">function</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;'#{field_id}', &quot;</span>
47:         <span class="ruby-identifier">function</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;'#{url_for(options[:url])}'&quot;</span>
48: 
49:         <span class="ruby-identifier">js_options</span> = {}
50:         <span class="ruby-identifier">js_options</span>[<span class="ruby-value str">'cancelText'</span>] = <span class="ruby-node">%('#{options[:cancel_text]}')</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:cancel_text</span>]
51:         <span class="ruby-identifier">js_options</span>[<span class="ruby-value str">'okText'</span>] = <span class="ruby-node">%('#{options[:save_text]}')</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:save_text</span>]
52:         <span class="ruby-identifier">js_options</span>[<span class="ruby-value str">'loadingText'</span>] = <span class="ruby-node">%('#{options[:loading_text]}')</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:loading_text</span>]
53:         <span class="ruby-identifier">js_options</span>[<span class="ruby-value str">'rows'</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:rows</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:rows</span>]
54:         <span class="ruby-identifier">js_options</span>[<span class="ruby-value str">'cols'</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:cols</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:cols</span>]
55:         <span class="ruby-identifier">js_options</span>[<span class="ruby-value str">'size'</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:size</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:size</span>]
56:         <span class="ruby-identifier">js_options</span>[<span class="ruby-value str">'externalControl'</span>] = <span class="ruby-node">&quot;'#{options[:external_control]}'&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:external_control</span>]
57:         <span class="ruby-identifier">js_options</span>[<span class="ruby-value str">'loadTextURL'</span>] = <span class="ruby-node">&quot;'#{url_for(options[:load_text_url])}'&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:load_text_url</span>]        
58:         <span class="ruby-identifier">js_options</span>[<span class="ruby-value str">'ajaxOptions'</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:options</span>]
59:         <span class="ruby-identifier">js_options</span>[<span class="ruby-value str">'evalScripts'</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:script</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:script</span>]
60:         <span class="ruby-identifier">js_options</span>[<span class="ruby-value str">'callback'</span>]   = <span class="ruby-node">&quot;function(form) { return #{options[:with]} }&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:with</span>]
61:         <span class="ruby-identifier">function</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-value str">', '</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">options_for_javascript</span>(<span class="ruby-identifier">js_options</span>)) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">js_options</span>.<span class="ruby-identifier">empty?</span>
62:         
63:         <span class="ruby-identifier">function</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">')'</span>
64: 
65:         <span class="ruby-identifier">javascript_tag</span>(<span class="ruby-identifier">function</span>)
66:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000462"></a><b>in_place_editor_field</b>(object, method, tag_options = {}, in_place_editor_options = {})
  </div>
  <div class="description">
  <p>
Renders the value of the specified object and method with in-place editing
capabilities.
</p>
<p>
See the RDoc on ActionController::InPlaceEditing to learn more about this.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000462_source')" id="l_M000462_source">show source</a> ]</p>
  <div id="M000462_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/java_script_macros_helper.rb, line 71</span>
71:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">in_place_editor_field</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag_options</span> = {}, <span class="ruby-identifier">in_place_editor_options</span> = {})
72:         <span class="ruby-identifier">tag</span> = <span class="ruby-operator">::</span><span class="ruby-constant">ActionView</span><span class="ruby-operator">::</span><span class="ruby-constant">Helpers</span><span class="ruby-operator">::</span><span class="ruby-constant">InstanceTag</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">method</span>, <span class="ruby-keyword kw">self</span>)
73:         <span class="ruby-identifier">tag_options</span> = {<span class="ruby-identifier">:tag</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;span&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{object}_#{method}_#{tag.object.id}_in_place_editor&quot;</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;in_place_editor_field&quot;</span>}.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">tag_options</span>)
74:         <span class="ruby-identifier">in_place_editor_options</span>[<span class="ruby-identifier">:url</span>] = <span class="ruby-identifier">in_place_editor_options</span>[<span class="ruby-identifier">:url</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">url_for</span>({ <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;set_#{object}_#{method}&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">tag</span>.<span class="ruby-identifier">object</span>.<span class="ruby-identifier">id</span> })
75:         <span class="ruby-identifier">tag</span>.<span class="ruby-identifier">to_content_tag</span>(<span class="ruby-identifier">tag_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:tag</span>), <span class="ruby-identifier">tag_options</span>) <span class="ruby-operator">+</span>
76:         <span class="ruby-identifier">in_place_editor</span>(<span class="ruby-identifier">tag_options</span>[<span class="ruby-identifier">:id</span>], <span class="ruby-identifier">in_place_editor_options</span>)
77:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000465"></a><b>text_field_with_auto_complete</b>(object, method, tag_options = {}, completion_options = {})
  </div>
  <div class="description">
  <p>
Wrapper for text_field with added AJAX autocompletion functionality.
</p>
<p>
In your controller, you&#8217;ll need to define an action called
auto_complete_for_object_method to respond the AJAX calls,
</p>
<p>
See the RDoc on ActionController::AutoComplete to learn more about this.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000465_source')" id="l_M000465_source">show source</a> ]</p>
  <div id="M000465_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/java_script_macros_helper.rb, line 181</span>
181:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text_field_with_auto_complete</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag_options</span> = {}, <span class="ruby-identifier">completion_options</span> = {})
182:         (<span class="ruby-identifier">completion_options</span>[<span class="ruby-identifier">:skip_style</span>] <span class="ruby-operator">?</span> <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">auto_complete_stylesheet</span>) <span class="ruby-operator">+</span>
183:         <span class="ruby-identifier">text_field</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">method</span>, <span class="ruby-identifier">tag_options</span>) <span class="ruby-operator">+</span>
184:         <span class="ruby-identifier">content_tag</span>(<span class="ruby-value str">&quot;div&quot;</span>, <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">:id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{object}_#{method}_auto_complete&quot;</span>, <span class="ruby-identifier">:class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;auto_complete&quot;</span>) <span class="ruby-operator">+</span>
185:         <span class="ruby-identifier">auto_complete_field</span>(<span class="ruby-node">&quot;#{object}_#{method}&quot;</span>, { <span class="ruby-identifier">:url</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:action</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;auto_complete_for_#{object}_#{method}&quot;</span> } }.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">completion_options</span>))
186:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>

    </body>
</html>