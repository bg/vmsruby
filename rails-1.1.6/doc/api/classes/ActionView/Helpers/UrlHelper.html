<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Module: ActionView::Helpers::UrlHelper</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "show source"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "hide source"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "width=400,height=400,scrollbars=yes" )
        }
      // ]]>
    </script>
  </head>

  <body>
  <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'><tr>
  <td class="file-title"><span class="file-title-prefix">Module</span><br />ActionView::Helpers::UrlHelper</td>
  <td align="right">
    <table cellspacing=0 cellpadding=2>
      <tr valign="top">
        <td>In:</td>
        <td>
<a href="../../../files/vendor/rails/actionpack/lib/action_view/helpers/url_helper_rb.html">vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb</a>
        </td>
      </tr>
         </table>
        </td>
        </tr>
      </table>
 <!-- banner header -->

  <div id="bodyContent">
      <div id="content">

  <div class="description"><p>
Provides a set of methods for making easy links and getting urls that
depend on the controller and action. This means that you can use the same
format for links in the views that you do in the controller. The different
methods are even named synchronously, so <a
href="UrlHelper.html#M000378">link_to</a> uses that same url as is
generated by <a href="UrlHelper.html#M000377">url_for</a>, which again is
the same url used for redirection in redirect_to.
</p>
</div>



  <div class="sectiontitle">Methods</div>
  <ul>
  <li><a href="#M000379">button_to</a></li>
  <li><a href="#M000386">current_page?</a></li>
  <li><a href="#M000380">link_image_to</a></li>
  <li><a href="#M000378">link_to</a></li>
  <li><a href="#M000384">link_to_if</a></li>
  <li><a href="#M000381">link_to_image</a></li>
  <li><a href="#M000383">link_to_unless</a></li>
  <li><a href="#M000382">link_to_unless_current</a></li>
  <li><a href="#M000385">mail_to</a></li>
  <li><a href="#M000377">url_for</a></li>
  </ul>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li><a href="JavaScriptHelper.html">JavaScriptHelper</a></li>
</ul>





<div class="sectiontitle">Public Instance methods</div>
<div class="method">
  <div class="title">
    <a name="M000379"></a><b>button_to</b>(name, options = {}, html_options = nil)
  </div>
  <div class="description">
  <p>
Generates a form containing a sole button that submits to the URL given by
<em>options</em>. Use this method instead of <tt><a
href="UrlHelper.html#M000378">link_to</a></tt> for actions that do not have
the safe HTTP GET semantics implied by using a hypertext link.
</p>
<p>
The parameters are the same as for <tt><a
href="UrlHelper.html#M000378">link_to</a></tt>. Any <em>html_options</em>
that you pass will be applied to the inner <tt>input</tt> element. In
particular, pass
</p>
<pre>
  :disabled =&gt; true/false
</pre>
<p>
as part of <em>html_options</em> to control whether the button is disabled.
The generated form element is given the class &#8216;button-to&#8217;, to
which you can attach CSS styles for display purposes.
</p>
<p>
Example 1:
</p>
<pre>
  # inside of controller for &quot;feeds&quot;
  button_to &quot;Edit&quot;, :action =&gt; 'edit', :id =&gt; 3
</pre>
<p>
Generates the following HTML (sans formatting):
</p>
<pre>
  &lt;form method=&quot;post&quot; action=&quot;/feeds/edit/3&quot; class=&quot;button-to&quot;&gt;
    &lt;div&gt;&lt;input value=&quot;Edit&quot; type=&quot;submit&quot; /&gt;&lt;/div&gt;
  &lt;/form&gt;
</pre>
<p>
Example 2:
</p>
<pre>
  button_to &quot;Destroy&quot;, { :action =&gt; 'destroy', :id =&gt; 3 },
            :confirm =&gt; &quot;Are you sure?&quot;
</pre>
<p>
Generates the following HTML (sans formatting):
</p>
<pre>
  &lt;form method=&quot;post&quot; action=&quot;/feeds/destroy/3&quot; class=&quot;button-to&quot;&gt;
    &lt;div&gt;&lt;input onclick=&quot;return confirm('Are you sure?');&quot;
                value=&quot;Destroy&quot; type=&quot;submit&quot; /&gt;
    &lt;/div&gt;
  &lt;/form&gt;
</pre>
<p>
<b>NOTE</b>: This method generates HTML code that represents a form. Forms
are &quot;block&quot; content, which means that you should not try to
insert them into your HTML where only inline content is expected. For
example, you can legally insert a form inside of a <tt>div</tt> or
<tt>td</tt> element or in between <tt>p</tt> elements, but not in the
middle of a run of text, nor can you place a form within another form.
(Bottom line: Always validate your HTML before going public.)
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000379_source')" id="l_M000379_source">show source</a> ]</p>
  <div id="M000379_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 110</span>
110:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">button_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = <span class="ruby-keyword kw">nil</span>)
111:         <span class="ruby-identifier">html_options</span> = (<span class="ruby-identifier">html_options</span> <span class="ruby-operator">||</span> {}).<span class="ruby-identifier">stringify_keys</span>
112:         <span class="ruby-identifier">convert_boolean_attributes!</span>(<span class="ruby-identifier">html_options</span>, <span class="ruby-node">%w( disabled )</span>)
113:         
114:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">confirm</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;confirm&quot;</span>)
115:           <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;onclick&quot;</span>] = <span class="ruby-node">&quot;return #{confirm_javascript_function(confirm)};&quot;</span>
116:         <span class="ruby-keyword kw">end</span>
117:         
118:         <span class="ruby-identifier">url</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)
119:         <span class="ruby-identifier">name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">url</span>
120:         
121:         <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value str">&quot;type&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;submit&quot;</span>, <span class="ruby-value str">&quot;value&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>)
122: 
123:         <span class="ruby-node">&quot;&lt;form method=\&quot;post\&quot; action=\&quot;#{h url}\&quot; class=\&quot;button-to\&quot;&gt;&lt;div&gt;&quot;</span> <span class="ruby-operator">+</span>
124:           <span class="ruby-identifier">tag</span>(<span class="ruby-value str">&quot;input&quot;</span>, <span class="ruby-identifier">html_options</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;&lt;/div&gt;&lt;/form&gt;&quot;</span>
125:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000386"></a><b>current_page?</b>(options)
  </div>
  <div class="description">
  <p>
Returns true if the current page uri is generated by the options passed (in
<a href="UrlHelper.html#M000377">url_for</a> format).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000386_source')" id="l_M000386_source">show source</a> ]</p>
  <div id="M000386_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 246</span>
246:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-identifier">options</span>)
247:         <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">escapeHTML</span>(<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>)) <span class="ruby-operator">==</span> <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">request</span>.<span class="ruby-identifier">request_uri</span>
248:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000380"></a><b>link_image_to</b>(src, options = {}, html_options = {}, *parameters_for_method_reference)
  </div>
  <div class="description">
  <p>
This tag is deprecated. Combine the <a
href="UrlHelper.html#M000378">link_to</a> and AssetTagHelper::image_tag
yourself instead, like:
</p>
<pre>
  link_to(image_tag(&quot;rss&quot;, :size =&gt; &quot;30x45&quot;, :border =&gt; 0), &quot;http://www.example.com&quot;)
</pre>
  </div>
<div class="aka">
  This method is also aliased as
  <a href="UrlHelper.html#M000381">link_to_image</a>
</div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000380_source')" id="l_M000380_source">show source</a> ]</p>
  <div id="M000380_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 130</span>
130:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link_image_to</span>(<span class="ruby-identifier">src</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
131:         <span class="ruby-identifier">image_options</span> = { <span class="ruby-value str">&quot;src&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">src</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;/&quot;</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">src</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;/images/#{src}&quot;</span> }
132:         <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;src&quot;</span>] <span class="ruby-operator">+=</span> <span class="ruby-value str">&quot;.png&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;src&quot;</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-value str">&quot;.&quot;</span>)
133: 
134:         <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
135:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;alt&quot;</span>]
136:           <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;alt&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;alt&quot;</span>]
137:           <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;alt&quot;</span>
138:         <span class="ruby-keyword kw">else</span>
139:           <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;alt&quot;</span>] = <span class="ruby-identifier">src</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;/&quot;</span>).<span class="ruby-identifier">last</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;.&quot;</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">capitalize</span>
140:         <span class="ruby-keyword kw">end</span>
141: 
142:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;size&quot;</span>]
143:           <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;width&quot;</span>], <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;height&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;size&quot;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;x&quot;</span>)
144:           <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;size&quot;</span>
145:         <span class="ruby-keyword kw">end</span>
146: 
147:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;border&quot;</span>]
148:           <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;border&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;border&quot;</span>]
149:           <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;border&quot;</span>
150:         <span class="ruby-keyword kw">end</span>
151: 
152:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;align&quot;</span>]
153:           <span class="ruby-identifier">image_options</span>[<span class="ruby-value str">&quot;align&quot;</span>] = <span class="ruby-identifier">html_options</span>[<span class="ruby-value str">&quot;align&quot;</span>]
154:           <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span> <span class="ruby-value str">&quot;align&quot;</span>
155:         <span class="ruby-keyword kw">end</span>
156: 
157:         <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">tag</span>(<span class="ruby-value str">&quot;img&quot;</span>, <span class="ruby-identifier">image_options</span>), <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
158:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000378"></a><b>link_to</b>(name, options = {}, html_options = nil, *parameters_for_method_reference)
  </div>
  <div class="description">
  <p>
Creates a link tag of the given <tt>name</tt> using an URL created by the
set of <tt>options</tt>. See the valid options in the documentation for <a
href="../../ActionController/Base.html#M000202">ActionController::Base#url_for</a>.
It&#8217;s also possible to pass a string instead of an options hash to get
a link tag that just points without consideration. If nil is passed as a
name, the link itself will become the name.
</p>
<p>
The html_options has three special features. One for creating javascript
confirm alerts where if you pass :confirm =&gt; &#8216;Are you
sure?&#8217;, the link will be guarded with a JS popup asking that
question. If the user accepts, the link is processed, otherwise not.
</p>
<p>
Another for creating a popup window, which is done by either passing :popup
with true or the options of the window in Javascript form.
</p>
<p>
And a third for making the link do a POST request (instead of the regular
GET) through a dynamically added form element that is instantly submitted.
Note that if the user has turned off Javascript, the request will fall back
on the GET. So its your responsibility to determine what the action should
be once it arrives at the controller. The POST form is turned on by passing
:post as true. Note, it&#8217;s not possible to use POST requests and popup
targets at the same time (an exception will be thrown).
</p>
<p>
Examples:
</p>
<pre>
  link_to &quot;Delete this page&quot;, { :action =&gt; &quot;destroy&quot;, :id =&gt; @page.id }, :confirm =&gt; &quot;Are you sure?&quot;
  link_to &quot;Help&quot;, { :action =&gt; &quot;help&quot; }, :popup =&gt; true
  link_to &quot;Busy loop&quot;, { :action =&gt; &quot;busy&quot; }, :popup =&gt; ['new_window', 'height=300,width=600']
  link_to &quot;Destroy account&quot;, { :action =&gt; &quot;destroy&quot; }, :confirm =&gt; &quot;Are you sure?&quot;, :post =&gt; true
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000378_source')" id="l_M000378_source">show source</a> ]</p>
  <div id="M000378_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 51</span>
51:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
52:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>
53:           <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
54:           <span class="ruby-identifier">convert_options_to_javascript!</span>(<span class="ruby-identifier">html_options</span>)
55:           <span class="ruby-identifier">tag_options</span> = <span class="ruby-identifier">tag_options</span>(<span class="ruby-identifier">html_options</span>)
56:         <span class="ruby-keyword kw">else</span>
57:           <span class="ruby-identifier">tag_options</span> = <span class="ruby-keyword kw">nil</span>
58:         <span class="ruby-keyword kw">end</span>
59:         <span class="ruby-identifier">url</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
60:         <span class="ruby-node">&quot;&lt;a href=\&quot;#{url}\&quot;#{tag_options}&gt;#{name || url}&lt;/a&gt;&quot;</span>
61:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000384"></a><b>link_to_if</b>(condition, name, options = {}, html_options = {}, *parameters_for_method_reference, &amp;block)
  </div>
  <div class="description">
  <p>
Create a link tag of the given <tt>name</tt> using an URL created by the
set of <tt>options</tt>, if <tt>condition</tt> is true, in which case only
the name is returned (or the given block is yielded, if one exists).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000384_source')" id="l_M000384_source">show source</a> ]</p>
  <div id="M000384_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 186</span>
186:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link_to_if</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
187:         <span class="ruby-identifier">link_to_unless</span> <span class="ruby-operator">!</span><span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
188:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000381"></a><b>link_to_image</b>(src, options = {}, html_options = {}, *parameters_for_method_reference)
  </div>
  <div class="description">
  <p>
Alias for <a href="UrlHelper.html#M000380">link_image_to</a>
</p>
  </div>
</div>
<div class="method">
  <div class="title">
    <a name="M000383"></a><b>link_to_unless</b>(condition, name, options = {}, html_options = {}, *parameters_for_method_reference) {|name| ...}
  </div>
  <div class="description">
  <p>
Create a link tag of the given <tt>name</tt> using an URL created by the
set of <tt>options</tt>, unless <tt>condition</tt> is true, in which case
only the name is returned (or the given block is yielded, if one exists).
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000383_source')" id="l_M000383_source">show source</a> ]</p>
  <div id="M000383_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 172</span>
172:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link_to_unless</span>(<span class="ruby-identifier">condition</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
173:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">condition</span>
174:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
175:             <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
176:           <span class="ruby-keyword kw">else</span>
177:             <span class="ruby-identifier">name</span>
178:           <span class="ruby-keyword kw">end</span>
179:         <span class="ruby-keyword kw">else</span>
180:           <span class="ruby-identifier">link_to</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
181:         <span class="ruby-keyword kw">end</span>  
182:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000382"></a><b>link_to_unless_current</b>(name, options = {}, html_options = {}, *parameters_for_method_reference, &amp;block)
  </div>
  <div class="description">
  <p>
Creates a link tag of the given <tt>name</tt> using an URL created by the
set of <tt>options</tt>, unless the current request uri is the same as the
link&#8217;s, in which case only the name is returned (or the given block
is yielded, if one exists). This is useful for creating link bars where you
don&#8217;t want to link to the page currently being viewed.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000382_source')" id="l_M000382_source">show source</a> ]</p>
  <div id="M000382_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 166</span>
166:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">link_to_unless_current</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-identifier">html_options</span> = {}, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
167:         <span class="ruby-identifier">link_to_unless</span> <span class="ruby-identifier">current_page?</span>(<span class="ruby-identifier">options</span>), <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>, <span class="ruby-identifier">html_options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
168:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000385"></a><b>mail_to</b>(email_address, name = nil, html_options = {})
  </div>
  <div class="description">
  <p>
Creates a link tag for starting an email to the specified
<tt>email_address</tt>, which is also used as the name of the link unless
<tt>name</tt> is specified. Additional HTML options, such as class or id,
can be passed in the <tt>html_options</tt> hash.
</p>
<p>
You can also make it difficult for spiders to harvest email address by
obfuscating them. Examples:
</p>
<pre>
  mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, :encode =&gt; &quot;javascript&quot;  # =&gt;
    &lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt;eval(unescape('%64%6f%63%75%6d%65%6e%74%2e%77%72%69%74%65%28%27%3c%61%20%68%72%65%66%3d%22%6d%61%69%6c%74%6f%3a%6d%65%40%64%6f%6d%61%69%6e%2e%63%6f%6d%22%3e%4d%79%20%65%6d%61%69%6c%3c%2f%61%3e%27%29%3b'))&lt;/script&gt;

  mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, :encode =&gt; &quot;hex&quot;  # =&gt;
    &lt;a href=&quot;mailto:%6d%65@%64%6f%6d%61%69%6e.%63%6f%6d&quot;&gt;My email&lt;/a&gt;
</pre>
<p>
You can also specify the cc address, bcc address, subject, and body parts
of the message header to create a complex e-mail using the corresponding
<tt>cc</tt>, <tt>bcc</tt>, <tt>subject</tt>, and <tt>body</tt>
<tt>html_options</tt> keys. Each of these options are URI escaped and then
appended to the <tt>email_address</tt> before being output. <b>Be aware
that javascript keywords will not be escaped and may break this feature
when encoding with javascript.</b> Examples:
</p>
<pre>
  mail_to &quot;me@domain.com&quot;, &quot;My email&quot;, :cc =&gt; &quot;ccaddress@domain.com&quot;, :bcc =&gt; &quot;bccaddress@domain.com&quot;, :subject =&gt; &quot;This is an example email&quot;, :body =&gt; &quot;This is the body of the message.&quot;   # =&gt;
    &lt;a href=&quot;mailto:me@domain.com?cc=&quot;ccaddress@domain.com&quot;&amp;bcc=&quot;bccaddress@domain.com&quot;&amp;body=&quot;This%20is%20the%20body%20of%20the%20message.&quot;&amp;subject=&quot;This%20is%20an%20example%20email&quot;&gt;My email&lt;/a&gt;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000385_source')" id="l_M000385_source">show source</a> ]</p>
  <div id="M000385_source" class="dyn-source">
<pre>
     <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 208</span>
208:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">mail_to</span>(<span class="ruby-identifier">email_address</span>, <span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">html_options</span> = {})
209:         <span class="ruby-identifier">html_options</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">stringify_keys</span>
210:         <span class="ruby-identifier">encode</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;encode&quot;</span>)
211:         <span class="ruby-identifier">cc</span>, <span class="ruby-identifier">bcc</span>, <span class="ruby-identifier">subject</span>, <span class="ruby-identifier">body</span> = <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;cc&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;bcc&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;subject&quot;</span>), <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;body&quot;</span>)
212: 
213:         <span class="ruby-identifier">string</span> = <span class="ruby-value str">''</span>
214:         <span class="ruby-identifier">extras</span> = <span class="ruby-value str">''</span>
215:         <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;cc=#{CGI.escape(cc).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">cc</span>.<span class="ruby-identifier">nil?</span>
216:         <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;bcc=#{CGI.escape(bcc).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">bcc</span>.<span class="ruby-identifier">nil?</span>
217:         <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;body=#{CGI.escape(body).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">body</span>.<span class="ruby-identifier">nil?</span>
218:         <span class="ruby-identifier">extras</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;subject=#{CGI.escape(subject).gsub(&quot;+&quot;, &quot;%20&quot;)}&amp;&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">subject</span>.<span class="ruby-identifier">nil?</span>
219:         <span class="ruby-identifier">extras</span> = <span class="ruby-value str">&quot;?&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/&amp;?$/</span>,<span class="ruby-value str">&quot;&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">extras</span>.<span class="ruby-identifier">empty?</span>
220: 
221:         <span class="ruby-identifier">email_address_obfuscated</span> = <span class="ruby-identifier">email_address</span>.<span class="ruby-identifier">dup</span>
222:         <span class="ruby-identifier">email_address_obfuscated</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/@/</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;replace_at&quot;</span>)) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">&quot;replace_at&quot;</span>)
223:         <span class="ruby-identifier">email_address_obfuscated</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp re">/\./</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value str">&quot;replace_dot&quot;</span>)) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value str">&quot;replace_dot&quot;</span>)
224: 
225:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">encode</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'javascript'</span>
226:           <span class="ruby-identifier">tmp</span> = <span class="ruby-node">&quot;document.write('#{content_tag(&quot;a&quot;, name || email_address, html_options.merge({ &quot;href&quot; =&gt; &quot;mailto:&quot;+email_address.to_s+extras }))}');&quot;</span>
227:           <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">tmp</span>.<span class="ruby-identifier">length</span>
228:             <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%%%x&quot;</span>,<span class="ruby-identifier">tmp</span>[<span class="ruby-identifier">i</span>])
229:           <span class="ruby-keyword kw">end</span>
230:           <span class="ruby-node">&quot;&lt;script type=\&quot;text/javascript\&quot;&gt;eval(unescape('#{string}'))&lt;/script&gt;&quot;</span>
231:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">encode</span> <span class="ruby-operator">==</span> <span class="ruby-value str">'hex'</span>
232:           <span class="ruby-keyword kw">for</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword kw">in</span> <span class="ruby-value">0</span><span class="ruby-operator">...</span><span class="ruby-identifier">email_address</span>.<span class="ruby-identifier">length</span>
233:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">email_address</span>[<span class="ruby-identifier">i</span>,<span class="ruby-value">1</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/\w/</span>
234:               <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sprintf</span>(<span class="ruby-value str">&quot;%%%x&quot;</span>,<span class="ruby-identifier">email_address</span>[<span class="ruby-identifier">i</span>])
235:             <span class="ruby-keyword kw">else</span>
236:               <span class="ruby-identifier">string</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">email_address</span>[<span class="ruby-identifier">i</span>,<span class="ruby-value">1</span>]
237:             <span class="ruby-keyword kw">end</span>
238:           <span class="ruby-keyword kw">end</span>
239:           <span class="ruby-identifier">content_tag</span> <span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">email_address_obfuscated</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge</span>({ <span class="ruby-value str">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;mailto:#{string}#{extras}&quot;</span> })
240:         <span class="ruby-keyword kw">else</span>
241:           <span class="ruby-identifier">content_tag</span> <span class="ruby-value str">&quot;a&quot;</span>, <span class="ruby-identifier">name</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">email_address_obfuscated</span>, <span class="ruby-identifier">html_options</span>.<span class="ruby-identifier">merge</span>({ <span class="ruby-value str">&quot;href&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;mailto:#{email_address}#{extras}&quot;</span> })
242:         <span class="ruby-keyword kw">end</span>
243:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000377"></a><b>url_for</b>(options = {}, *parameters_for_method_reference)
  </div>
  <div class="description">
  <p>
Returns the URL for the set of <tt>options</tt> provided. This takes the
same options as <a href="UrlHelper.html#M000377">url_for</a>. For a list,
see the documentation for <a
href="../../ActionController/Base.html#M000202">ActionController::Base#url_for</a>.
Note that it&#8217;ll set :only_path =&gt; true so you&#8217;ll get
/controller/action instead of the <a
href="http://example.com/controller/action">example.com/controller/action</a>
part (makes it harder to parse httpd log files)
</p>
<p>
When called from a view, <a href="UrlHelper.html#M000377">url_for</a>
returns an HTML escaped url. If you need an unescaped url, pass :escape
=&gt; false to <a href="UrlHelper.html#M000377">url_for</a>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000377_source')" id="l_M000377_source">show source</a> ]</p>
  <div id="M000377_source" class="dyn-source">
<pre>
    <span class="ruby-comment cmt"># File vendor/rails/actionpack/lib/action_view/helpers/url_helper.rb, line 20</span>
20:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span> = {}, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
21:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-constant">Hash</span>
22:           <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">:only_path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span> }.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys</span>)
23:           <span class="ruby-identifier">escape</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">key?</span>(<span class="ruby-identifier">:escape</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:escape</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">true</span>
24:         <span class="ruby-keyword kw">else</span>
25:           <span class="ruby-identifier">escape</span> = <span class="ruby-keyword kw">true</span>
26:         <span class="ruby-keyword kw">end</span>
27:         <span class="ruby-identifier">url</span> = <span class="ruby-ivar">@controller</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">:url_for</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">parameters_for_method_reference</span>)
28:         <span class="ruby-identifier">escape</span> <span class="ruby-value">? </span><span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">url</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">url</span>
29:       <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>

    </body>
</html>